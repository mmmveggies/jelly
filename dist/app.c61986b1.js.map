{"version":3,"sources":["util/color.ts","util/mouse.ts","shapes/eye.ts","render.ts","app.ts"],"names":[],"mappings":";;;;;;AACA;AIDA,ADAA,ADEA,ADFA,IGAA,ADAA,ADEA,ADFA,GCEA,ECFA,AFAA,GGAA,ADAA,GCAA,IDAA,CAAA,ECAA,CAAA,IDAA,CAAA,KCAA,CAAA;AFEA,ADFA;AGEa,ADDb,ADCA,ADFA,IECA,GCCa,CAAA,GDDb,CDCA,ADFA,EGEa,ADDb,GCCsB,IDDtB,CAAA,GCC8B,CAAC,UDD/B,CAAA,GCCsB,CAAwB,MAAxB,CAAT;AACA,AFMZ,AFLD,ACUC,IDVD,GIDa,CAAA,AJCb,GIDa,AFMZ,ADKA,GGXkB,AFMlB,CAAY,CDKZ,GAAA,CCLA,CENkB,CAAA,AFMO,MENP,CAAO,CFMzB,EAAqC,OENnB,CAAkB,IAAlB,CAAN;AAEb,ADHA,ADO0B,AFL1B,ACUC,IEZD,ECGM,CAAC,CFImB,ADKzB,GEZD,EFYC,CEZD,EDO0B,ADKzB,IAAA,CEZD,ADO0B,CCP1B,CCGA,CAAwB,EFIE,CAAA,EAAA,GEJ1B,EAAkC,EDHlC,CAAA,SCGA,EAAgD,KAAhD;AACA,AFG0B,AFL1B,MEK0B,MEHd,AJFZ,EEK0B,GAAA,CAAA;AEF1B,ADJA,ADMsC,AFLtC,AC0BS,IE3BT,ECIM,CAAC,EDJP,AF2BS,ED1BT,CGDA,GCIO,AJHP,CIGO,EJHP,CGDA,CAAA,AF2BS,EGvBH,CAAN,AHuBuB,UAAC,CE3BxB,CAAA,GF2BuB,EAAkB;ADzBxC,AC0BC,MAAA,GD1BD,EC0BK,CD1BL,AC0BM,GD1BA,CAAN,AC0BC,GAAY,KAAI,CAAC,IAAjB;AGtBF,ADJA,ADKE,AFJD,AC0BC,IE3BI,ADKJ,EDsBA,EE3BQ,CCID,AJHR,CEIO,CCLK,ADKJ,ADsBH,CAAC,GGvBP,ADJiB,CCKhB,AHsBC,CCtBA,CAAc,CFJf,AC0Ba,EGvBd,CDJiB,ADKf,AFJY,CIIgB,ADLb,CDKK,ADsBpB,GE3BW,AHCZ,EGDD,ADKE;AEED,ADLD,AHAC,AC0BC,IE1BI,CFuBG,IDvBR,EIKS,ADLG,GAAG,CCKf,CAAc,EDLK,CHAnB,CIKA,EAA0B,AJLb,CGAE,EAAhB,EHAC;AIMC,ADLF,ADIE,AFJD,IIKC,GDLK,CAAC,ADIF,CECC,AJLN,CIKO,CDLR,GCKO,ADLO,AHAb,CIKC,CFDY,CFJL,CAAR,EEIiB,CCJG,ADInB,CCJoB,CDID,qBCJA,CAArB;ACME,ADJF,ADGG,AFkBF,ACGQ,IGpBP,ADJI,GAAG,EFwBA,CExBG,CDGJ,GCHQ,CAAC,CDGd,CCHS,EDGI,CCHM,AFwBb,CExBT,EDGoB,ADqBG,EGpBA,CAAC,AFDR,CAAQ,GECD,CAArB,EHoBsB,KAAD,EAAkB;AGnBvC,AFDE,AFJH,ACyBC,MAAA,ECrBE,CAAC,EAAE,ADqBD,CAAC,ICrBK,ADqBV,CCtBsB,EDsBV,KAAZ;AEvBF,ADGI,ADqBF,MAAA,ECrBE,CCHY,ADGX,EAAE,ADqBD,CAAC,EAAL,CExBF,CAAuB,ADGX,CAFY,ADuBZ,GExBZ,EAAmC,IFwBjC;AGpBD,ADFC,ADEE,ADqBF,EGrBD,GHkBQ,CGlBJ,ADFS,CCER,CAAD,AFAD,CEAH,AFAI,ECFc,ADEZ,GCAF,EDAO,CAAL,GCAI,ADAK,CCAL,UAFT;ACGD,ADHC,ADDsB,MCET,CDFC,EAIV,GCFe,GAChB,EDCS,GAAG,CCDN,ADHK,CCGL,ADHR,WCCD;AAID,ADAE,ADoBM,MEpBF,GFoBE,EEpBG,GAAG,IAAI,AFoBV,CEpBW,EFoBC,IEpBN,EAAd,IFoBqB,KAAD,EAAkB;AGnBvC,ADCC,ADDC,AFND,AC0BC,EEnBD,AHPA,IAAA,AC0BC,CEnBD,AHPA,CGOA,CCDQ,EDCR,AFmBK,CEnBD,AFmBE,EAAL,ED1BD,CAAA,AC0BW,IGpBZ,ADCC,CFmBC,CD1BD,CIMoB,ADCJ,EHPhB,GGOA,OHPO,QAAP,EAAmB;AIOnB,ADCA,AHRO,AC2BN,EGpBD,ADCA,GFiBQ,EEjBR,CAAA,AHRO,CIOP,CAAA,CDCA,CAAI,ICDJ,AJPO,CIOA,GDCP,CAAa,AHRN,CIOP,ADCA,EAAgB,CCDD,ADCf,CHRO,CGQY,AHRZ,EAAA,EIOc,CAAC,ADCtB,EAA0B,MAA1B,ECDA;AACA,ADEA,ADFA,AFRO,EIQP,AFAA,GAAA,CCEM,ADFN,AFRO,GIQP,CAAA,ADEU,GAAG,CACZ,AHXM,CEQP,CEAA,AFAA,CEAO,AJRA,CGWF,AHXE,EEQP,GEAA,ADGK,ADHL,CCGK,ECHW,CDGf,CAAQ,ICHa,CAAC,AFAlB,KAAL,EAAiB,IEAjB;AACA,ADGE,AHZiB,ACElB,IEUC,CAAC,EAAE,EFVC,EAAL,CEUS,GAAG,CADJ;AAEP,AFVD,IEUC,CAAC,EAAE,MAAM,GAAG,CAFL;AAGP,ADLD,AFRA,IGaC,CAAC,EAAE,CDLA,AFRE,CEQD,GFRK,CGaA,CDLA,CFRG,CGaA,GDLb,CFRkB,CEQD,EFRJ,GAAW,QAAxB;AGUQ,ADDP,AFRD,ACRD,EAAA,CEiBC,CADY,EAMZ,EFtBD,CDQM,ACRN,CEsBK,EHdJ,GGcI,AHdO,CGcP,GAAJ,CAAQ,CHdS,CAAC,CCRnB,CAAI,KAAA,CAAA,KDQQ,CAAqB,GCRjC,CDQY,CCRR,GDQqC,IAA7B,CCRZ,EDQgD,ACRtC,CDQT;AGeC,ADNA,AFRD,IGcC,CAAC,EAAE,EFvBL,EEuBS,AHdD,KGcH,AHdQ,GGcI,CADR,IHbD,ACTR,EDSC;AGeC,AHdD,GAJD,CGkBE,CAAC,EAAE,MAAM,GAAG,CAFL;AAGP,ADND,AFPD,IGaE,CAAC,EAAE,CDNE,EAAE,GCME,ADNE,CAAA,CAAA,CCMC,CDND,GAAA,KAAK,CAAC,IAAN,MAAU,IAAV,IAAU,EAAA,KAAA,KAAA,CAAV,GAAU,KAAA,CAAV,GAAU,EAAA,CAAE,OAAZ,IAAsB,KAAK,CAAvC;ACGQ,ADFR,ADnBA,GEqBA,CANY,CAAb,GDIO,EAAE,GAAI,ADnBL,CCmBK,CAAA,EAAA,GAAA,KAAK,CAAC,IAAN,MAAU,IAAV,IAAU,EAAA,KAAA,KAAA,CAAV,GAAU,KAAA,CAAV,GAAU,EAAA,CAAE,OAAZ,IAAsB,KAAK,CAAvC;ACSD,ADPC,ADpBC,EE2BF,IAAI,CAAC,CDPE,ADpBL,EAAE,EAAE,CCoBM,ADpBN,CE2BN,AF3BM,CE2BO,CDPE,ADpBT,GAAA,ECoBc,CAAL,EDpBJ,CE2BG,ADPU,GCOX,AF3BP,EE2BW,ADPY,IDpBd,CCoBS,CAAW,CAAlC,CDpBK,IAAS,EAAA,KAAA,KAAA,CAAT,GAAS,KAAA,CAAT,GAAS,EAAA,CAAE,OAAX,KAAkB,CAAA,EAAA,GAAG,KAAK,IAAR,MAAY,IAAZ,IAAY,EAAA,KAAA,KAAA,CAAZ,GAAY,KAAA,CAAZ,GAAY,EAAA,CAAE,OAAhC,CADE;AE6BP,ADPA,ADpBC,QE2BG,ADPE,ADpBL,EAAE,EE2BK,AF3BH,CCoBM,ADpBN,CAAA,CE2BM,CDPG,ADpBT,EE2BL,CF3BK,CCoBa,CAAC,GDpBT,CCoBI,CAAU,EDpBnB,ECoBmB,CAAA,GAAA,ADpBV,CCoBU,EAAA,CDpBnB,CCoByB,CAAN,EDpBV,ECoBoB,ADpBpB,ICoBoB,CAAA,ADpBpB,GCoBoB,CAAA,CDpBpB,CCoBoB,ADpB7B,ECoBmC,CAAN,ADpBpB,CCoBA,CAAd,GDpBc,CAAT,GAAS,EAAA,CAAE,OAAX,KAAkB,CAAA,EAAA,GAAG,KAAK,IAAR,MAAY,IAAZ,IAAY,EAAA,KAAA,KAAA,CAAZ,GAAY,KAAA,CAAZ,GAAY,EAAA,CAAE,OAAhC;ACqBL,ADvBO,OAAP,CCuBM,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,EAAX,EAAe,EAAf,CAAd;ACOA,ADLA,AFXD,ACVC,EDUD,GCfU,CDeV,CAAA,CEWO,CAAC,ECKA,CDLG,GCKV,CDLc,AFXf,CGgBc,ADLE,AFXhB,GEWW,CAAS,IFXpB,CEWW,EAAgB,AFX3B,KEWW,CAAV,MFXD;AGiBE,ADJD,AFZM,MGgBL,EHhBK,CEYD,CCIA,AHhBC,CGgBA,EHXF,CEOJ,CCIC,ADJU,CCIA,ADJX,CFZM,EEYS,ED5BN,EEgCE,CAAA,ADJS,CAAL,GAAS,CCIvB,ADJwB,GAAG,IAAI,CAAC,GAAL,CAAS,KAAT,CAA5B;ACKC,ADJD,AFbM,MGiBL,EHhBK,CEYD,AFZE,EGgBN,CAAA,AHhBM,EEYP,AFZO,CGgBN,ADJU,AFZJ,CGgBF,ADJL,EFbM,CEaS,KAAK,CCInB,ADJc,GCIE,ADJO,CAAC,GCIJ,ADJO,CCIN,GDJU,CAAC,ECIhB,CAAY,ADJD,CAAS,ECIpB,CAAhB,EDJ2B,CAA5B;ACKC,ADHD,AFfM,AChBG,GAAV,GEkCE,EHhBY,CEaR,AFbS,GGgBP,AHhBO,CGgBN,CDHR,AFbc,CEaH,AFbG,CGgBP,CAAN,EDHD,CAAgB,KAAhB,AFfM;AGmBL,ADHD,AFhBM,GEFP,GCqBE,EHhBY,CAAC,EGgBb,CAAA,AHhBa,EAAA,CGgBb,AHhBa,CGgBT,IAAJ,KHnBK;AGoBL,AHpBK,ACLP,EAAA,IEyBE,CFzBF,CDSS,ACTT,CDSU,CGgBJ,EHhBI,CGgBD,CHhBC,CAAA,CGgBE,CAAC,AFzBb,CAAA,EDKO,ACLP,EEyBE,CFzBF,YAAA;AE0BE,ADJH,ADrBE,IAAA,KCqBF,CDrBQ,CAAC,CCqBT,eDrBE,CAAwB,WAAxB,EAAqC,KAAK,WAA1C;AE0BA,AD3CF,AF2BE,ACTA,CClBF,ECkCC,ADlCD,CDkBE,CERiC,CAmClC,IF3BO,CDSC,ACTA,UDSQ,CAAC,CAAD,EAAI,CAAJ,CCTf,CDSsB,ACTE,CDST,EAAU,CAAV,EAAa,IAAb,CCTf,CDSO,CCT8B,EDSH,GAAlC,ACT0C,WAA1C;AE4BD,AHlBC,ACTA,GDCD,CCDC,MAAM,CAAC,gBAAP,CAAwB,SAAxB,EAAmC,KAAK,SAAxC;AE4BD,AD/CY,ADoBX,GAJD,IChBY,CAAA,GAAA,GAAA,GAAA;ACgDZ,AHnBD,SAAA,IAAA;AGoBC,AH/CD,ACoBC,CDpBD,CCoBC,CDpBD,ICoBC,CAAA,SAAA,CAAA,GAAA,GAAA,YAAA;AE8BA,AF7BC,IAAA,MAAM,CAAC,mBAAP,CAA2B,WAA3B,EAAwC,KAAK,WAA7C;AE8BD,AHnDY,ACsBX,IAAA,GDtBW,CAAA,ECsBL,CAAC,CDtBI,GAAA,IAAA,WCsBX,CAA2B,WAA3B,EAAwC,KAAK,WAA7C;AE8BD,AF7BC,IAAA,MAAM,CAAC,mBAAP,CAA2B,SAA3B,EAAsC,KAAK,SAA3C;AE8BD,AF7BC,GAJD;AEkCA;AACA,AFlBD,SAAA,KAAA;AAzCA,CAAA,EAAA;AEYA,OAAA,CAAA,MAAA,GAAA,MAAA;AFZa,OAAA,CAAA,KAAA,GAAA,KAAA;AE6Db,AFlBa,OAAA,CAAA,CEkBJ,IFlBI,EEkBb,CAAgB,AFlBK,GEkBrB,CFlByB,CEkB+B,IFlBnC,EAAR;AEmBZ,EAAA,KAAA,CAAA,GAAA,CAAI,SAAJ;AACA,EAAA,KAAA,CAAA,GAAA,CAAI,GAAJ,CAAQ,GAAG,CAAC,CAAZ,EAAe,GAAG,CAAC,CAAnB,EAAsB,GAAG,CAAC,CAA1B,EAA6B,CAA7B,EAAgC,GAAhC,EAAqC,KAArC;AACA,EAAA,KAAA,CAAA,GAAA,CAAI,IAAJ;AACA","file":"app.c61986b1.js","sourceRoot":"..\\src","sourcesContent":["\r\n/**\r\n * A representation of the HSL color space https://hslpicker.com/\r\n */\r\nexport class HSLA {\r\n\thue = 0\r\n\tsaturation = '25%'\r\n\tluminosity = '50%'\r\n\talpha = 1\r\n\r\n\t/**\r\n\t * Rotate `this.hue` by `hueDelta` degrees and return the string value.\r\n\t */\r\n\trotate(hueDelta = 1) {\r\n\t\tconst next = this.hue + hueDelta\r\n\t\tthis.hue = Number.isSafeInteger(next) ? next : 0\r\n\t\treturn this.toString()\r\n\t}\r\n\r\n\t/**\r\n\t * Encode to something usable by style, canvas etc.\r\n\t */\r\n\ttoString() {\r\n\t\tconst {\r\n\t\t\thue: h,\r\n\t\t\tsaturation: s,\r\n\t\t\tluminosity: l,\r\n\t\t\talpha: a,\r\n\t\t} = this\r\n\t\treturn `hsla(${[h, s, l, a].join()})`\r\n\t}\r\n}","export class Mouse {\r\n\tprev?: MouseEvent\r\n\tcurr?: MouseEvent\r\n\r\n\tdown?: MouseEvent\r\n\tup?: MouseEvent\r\n\r\n\tget speeds() {\r\n\t\treturn {\r\n\t\t\tdx: this.curr?.clientX - this.prev?.clientX,\r\n\t\t\tdy: this.curr?.clientX - this.prev?.clientX,\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tthis.on()\r\n\t}\r\n\r\n\ton() {\r\n\t\twindow.addEventListener('mousemove', this.onmousemove)\r\n\t\twindow.addEventListener('mousedown', this.onmousedown)\r\n\t\twindow.addEventListener('mouseup', this.onmouseup)\r\n\t}\r\n\r\n\toff() {\r\n\t\twindow.removeEventListener('mousemove', this.onmousemove)\r\n\t\twindow.removeEventListener('mousedown', this.onmousedown)\r\n\t\twindow.removeEventListener('mouseup', this.onmouseup)\r\n\t}\r\n\r\n\tprivate onmousemove = (event: MouseEvent) => {\r\n\t\tthis.prev = this.curr\r\n\t\tthis.curr = event\r\n\t}\r\n\tprivate onmousedown = (event: MouseEvent) => {\r\n\t\tthis.down = event\r\n\t\tthis.up = undefined\r\n\t}\r\n\tprivate onmouseup = (event: MouseEvent) => {\r\n\t\tthis.up = event\r\n\t}\r\n}\r\n\r\nexport const mouse = new Mouse()","import { Mouse } from \"../util/mouse\"\r\n\r\nexport class Eye {\r\n\tx!: number\r\n\ty!: number\r\n\tr!: number\r\n\r\n\tpupil?: Eye\r\n\r\n\tconstructor(props?: any, children = 4) {\r\n\t\tObject.assign(this, props)\r\n\r\n\t\tif (children >= 0) {\r\n\t\t\tthis.pupil = new Eye({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tr: this.r / 3,\r\n\t\t\t}, children - 1)\r\n\t\t}\r\n\t}\r\n\r\n\tlook(mouse: Mouse) {\r\n\t\tif (!this.pupil) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst dx = (mouse.curr?.clientX - this.x)\r\n\t\tconst dy = (mouse.curr?.clientY - this.y)\r\n\r\n\t\tconst limit = this.r - this.pupil.r\r\n\t\tconst scale = Math.sqrt(dx ** 2 + dy ** 2)\r\n\t\tconst theta = Math.atan2(dy, dx)\r\n\r\n\t\tconst r = Math.min(scale, limit)\r\n\r\n\t\tthis.pupil.x = this.x + r * Math.cos(theta)\r\n\t\tthis.pupil.y = this.y + r * Math.sin(theta)\r\n\r\n\t\tthis.pupil.look(mouse)\r\n\t}\r\n}","import { ctx } from './app'\r\nimport { HSLA } from './util/color'\r\nimport { mouse } from './util/mouse'\r\nimport { Eye } from './shapes/eye'\r\n\r\nconst hsla = new HSLA()\r\n\r\nconst pencils = new Image()\r\npencils.src = require('./images/pencils.png')\r\n\r\nconst PI2 = Math.PI * 2\r\n\r\nexport function render(time: number) {\r\n\tconst {\r\n\t\tinnerWidth: width,\r\n\t\tinnerHeight: height,\r\n\t} = window\r\n\r\n\tconst color = hsla.rotate()\r\n\r\n\tctx.fillStyle = color\r\n\tctx.fillRect(0, 0, width, height)\r\n\r\n\tconst eyes = [\r\n\t\tnew Eye({\r\n\t\t\tx: width / 3,\r\n\t\t\ty: height / 2,\r\n\t\t\tr: height / 4,\r\n\t\t}),\r\n\t\tnew Eye({\r\n\t\t\tx: 2 * width / 3,\r\n\t\t\ty: height / 2,\r\n\t\t\tr: height / 4,\r\n\t\t}),\r\n\t]\r\n\r\n\teyes.forEach((eye) => {\r\n\t\tlet curr = eye\r\n\t\twhile (curr) {\r\n\t\t\tcurr.look(mouse)\r\n\t\t\tctx.fillStyle = hsla.rotate(180)\r\n\t\t\tcircle(eye)\r\n\t\t\tctx.fill()\r\n\t\t\tcurr = eye.pupil\r\n\t\t}\r\n\t})\r\n\r\n\t// // right eye sclera\r\n\t// ctx.beginPath()\r\n\t// circle(right)\r\n\t// ctx.fillStyle = hsla.rotate(-180)\r\n\t// ctx.fill()\r\n\r\n\r\n\t// // right pupil\r\n\t// ctx.beginPath()\r\n\t// ctx.arc(rightPupil.x, rightPupil.y, pupil.r, 0, PI2, false)\r\n\t// ctx.fillStyle = hsla.rotate(-180)\r\n\t// ctx.fill()\r\n}\r\n\r\nfunction circle(eye: { x: number, y: number, r: number }) {\r\n\tctx.beginPath()\r\n\tctx.arc(eye.x, eye.y, eye.r, 0, PI2, false)\r\n\tctx.fill()\r\n}","import { render } from \"./render\"\r\n\r\nexport const canvas = document.getElementById('root') as HTMLCanvasElement\r\nexport const ctx = canvas.getContext('2d')\r\n\r\nwindow.addEventListener('resize', resizeCanvas, false)\r\nresizeCanvas()\r\nengine(render)\r\n\r\nfunction engine(\r\n\tframe: (time: number) => void\r\n) {\r\n\tfunction step(time: number) {\r\n\t\tframe(time)\r\n\t\trequestAnimationFrame(step)\r\n\t}\r\n\tstep(0)\r\n}\r\n\r\nfunction resizeCanvas() {\r\n\tcanvas.width = window.innerWidth\r\n\tcanvas.height = window.innerHeight\r\n}\r\n"]}